<!--
Metaboverse
Metaboverse is designed for analysis of metabolic networks
https://github.com/j-berg/Metaboverse/
alias: metaboverse

Copyright (C) 2019 Jordan A. Berg
Email: jordan<dot>berg<at>biochem<dot>utah<dot>edu

This program is free software: you can redistribute it and/or modify it under
the terms of the GNU General Public License as published by the Free Software
Foundation, either version 3 of the License, or (at your option) any later
version.

This program is distributed in the hope that it will be useful, but WITHOUT ANY
WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A
PARTICULAR PURPOSE. See the GNU General Public License for more details.

You should have received a copy of the GNU General Public License along with
this program.  If not, see <https://www.gnu.org/licenses/>.
-->

<meta charset="utf-8">

<title>Metaboverse</title>

<html>

  <link rel="stylesheet" href="../css/style.css">
  <link rel="stylesheet" href="../css/network.css">

  <script src="../js/variables.js"></script>
  <script src="../js/launch.js"></script>
  <script src="../js/utils.js"></script>

  <head>

    <!-- menu -->
    <menu>
      <font size=3.25px>
        <menuItem style="float:right"><a href="https://github.com/Metaboverse/Metaboverse/issues" target="_blank">Contact Us</a></menuItem>
        <menuItem style="float:right"><a href="https:/cite.html">Cite</a></menuItem>
        <menuItem style="float:right"><a href="https://metaboverse.readthedocs.io/en/latest/" target="_blank">Documentation</a></menuItem>
        <menuItem style="float:right"><a href="https://metaboverse.readthedocs.io/en/latest/content/faqs.html" target="_blank">FAQs</a></menuItem>
        <menuItem style="float:right"><a href="https://metaboverse.readthedocs.io/en/latest/content/beginner.html" target="_blank">First Time?</a></menuItem>
        <menuItem style="float:right"><a href="https://metaboverse.readthedocs.io/en/latest/content/overview.html" target="_blank">About</a></menuItem>
        <menuItem style="float:left"><a href="index.html">Metaboverse</a></menuItem>
        <menuItem style="float:left"><a href="session.html">Session Data</a></menuItem>
        <menuItem style="float:left"><a href="curate.html">Back</a></menuItem>
        <menuItem style="float:left" onclick="refresh_session()"><a>&#x21bb;</a></menuItem>
      </font>
    </menu>

  </head>

  <body>

    <img src="../data/variables.png" alt="variables" align="right" style="width: 200px; margin-top: 90px;">

    <br>
    <br>
    <br>
    <br>
    <font size="48" style="font-family: sans-serif">
      <b>
        <center>
          Variables and Data
        </center>
      </b>
    <br>
    </font>
    <font size="5">
      <b>
        <center>
          <u>Input data (optional)</u>
        </center>
      </b>
    <br>
    </font>
    <center>
      <font size="3">
        Load transcriptomics data:
          <button class="info" title="This datatype will accept any tab-delimited dataset with mappings to gene identifiers. Currently, there should only be an index column (no title) and a column named fold change with the calculated fold changes between experimental conditions. Future versions of Metaboverse will allow for input and processing of raw data and multiple conditions/time-points. Please see documentation for more information on correct formatting of this table."><i>i</i></button>
        <br>
        <br>
        <div id="dropDatabase" onclick="document.getElementById('transcriptomics-input').click();">
          <font size="1">
            Select File
          </font>
        </div>
        &nbsp;&nbsp;
        <div id="selectedTranscriptomics" class="selectedData">
        </div>
        <input id="transcriptomics-input" type="file" name="name" style="display: none;" />


        <br>
        <br>
        <br>
        Load proteomics data:
          <button class="info" title="This datatype will accept any tab-delimited dataset with mappings to protein identifiers. Currently, there should only be an index column (no title) and a column named fold change with the calculated fold changes between experimental conditions. Future versions of Metaboverse will allow for input and processing of raw data and multiple conditions/time-points. Please see documentation for more information on correct formatting of this table."><i>i</i></button>
        <br>
        <br>
        <div id="dropDatabase" onclick="document.getElementById('proteomics-input').click();">
          <font size="1">
            Select File
          </font>
        </div>
        &nbsp;&nbsp;
        <div id="selectedProteomics" class="selectedData">
        </div>
        <input id="proteomics-input" type="file" name="name" style="display: none;" />

        <br>
        <br>
        <br>
        Load metabolomics data:
          <button class="info" title="This datatype will accept any tab-delimited dataset with mappings to metabolite identifiers. Currently, there should only be an index column (no title) and a column named fold change with the calculated fold changes between experimental conditions. Future versions of Metaboverse will allow for input and processing of raw data and multiple conditions/time-points. Please see documentation for more information on correct formatting of this table."><i>i</i></button>
        <br>
        <br>
        <div id="dropDatabase" onclick="document.getElementById('metabolomics-input').click();">
          <font size="1">
            Select File
          </font>
        </div>
        &nbsp;&nbsp;
        <div id="selectedMetabolomics" class="selectedData">
        </div>
        <input id="metabolomics-input" type="file" name="name" style="display: none;" />
      <br>
      <br>
      <br>
      <br>
      <font size="5">
        <b><u>Other Options</u></b>
      </font>
      <br>
      <br>
      <font size="3">
        <form>
          Experiment Name:
            <button
              class="info"
              title="Enter a name for your experiment (no spaces preferred)">
              <i>i</i>
            </button>
            <br>
            <br>
            <input type="text" class="experimentName" id="updateExperimentName">
            </input>
        </form>
        <br>
        <br>
        <form>
          Experiment Type:
            <button
              class="info"
              title="Select the experiment type you would like to analyze. Please see the documentation for more information on selecting this parameter.">
              <i>i</i>
            </button>
            <br>
            <br>
            <select name="dropdown" id="updateExperiment">
              <option value="null" selected>Default</option>
              <option value="timecourse">Time-Course</option>
              <option value="multiple_conditions">Multiple Conditions</option>
              <option value="flux_balance">Flux Balance (coming soon)</option>
            </select>
        </form>
        <br>
        <br>
      </font>
      <div id="nameField"></div>
      <div id="updateExperimentLabels"></div>
      <label for="broadcast_gene_expression"><font size="3" style="margin-left:1vw;"><i>Broadcast gene expression to proteins: </i></font></label>
      <input style="width: 15px; height: 15px;" type="checkbox" id="broadcast_gene_expression" onclick='broadcastGeneExpression()' value="true" checked="true">
      <button
        class="info"
        title="Check to broadcast gene expression values to proteins when protein values are not available.">
        <i>i</i>
      </button>
      <br>
      <label for="use_modifiers_in_collapse"><font size="3" style="margin-left:1vw;"><i>Consider modifiers in reaction collapsing: </i></font></label>
      <input style="width: 15px; height: 15px;" type="checkbox" id="use_modifiers_in_collapse" onclick='collapseWithModifiers()' value="true">
      <button
        class="info"
        title="Check to include modifiers in reaction collapsing. Catalysts are included as outputs, inhibitors are included as inputs. Please refer to documentation for more information.">
        <i>i</i>
      </button>
      <br>
      <br>
      <br>
      <form>
      Blacklisted entities:
      <button class='info' title='Enter the names for metabolites, etc., to ignore in the analysis and visualization. Names should be separated by a comma. If a spelling of the entity does not seem to be working, try searching for the correct formatting in the total entity list in the Visualization page.'><i>i</i></button>
      <br />
      <br />
      <input type='text' class='blacklist' id='updateBlacklist' value='H+, H2O, CO2, e-'></input>
      </form>
      <br>
      <br>
      <a href="build.html"><div id="continue"><font size="3">Curate</font></div></a>
      <br>
      <br>
      <br>
      </center>

      <script>
        // If user goes back to this page, force re-curation
        update_session_info("processed", false);

        // Transcriptomics
        var transcriptomicsURL = get_session_info("transcriptomics");
        var defaultTranscriptomics = "No file selected";
        if (transcriptomicsURL !== null) {
          defaultTranscriptomics = transcriptomicsURL;
        }
        $('#selectedTranscriptomics').append('<font size="2">' + defaultTranscriptomics + '</font>');

        // Proteomics
        var proteomicsURL = get_session_info("proteomics");
        var defaultProteomics = "No file selected";
        if (proteomicsURL !== null) {
          defaultProteomics = proteomicsURL;
        }
        $('#selectedProteomics').append('<font size="2">' + defaultProteomics + '</font>');

        // Metabolomics
        var metabolomicsURL = get_session_info("metabolomics");
        var defaultMetabolomics = "No file selected";
        if (metabolomicsURL !== null) {
          defaultMetabolomics = metabolomicsURL;
        }
        $('#selectedMetabolomics').append('<font size="2">' + defaultMetabolomics + '</font>');

        // Metadata
        var metadataURL = get_session_info("metadata");
        var defaultMetadata = "No file selected";
        if (metadataURL !== null) {
          defaultMetadata = metadataURL;
        }
        $('#selectedMetadata').append('<font size="2">' + defaultMetadata + '</font>');
      </script>

  </body>
</html>
