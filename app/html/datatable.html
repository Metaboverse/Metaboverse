<!--
Metaboverse
Visualizing and Analyzing Metabolic Networks
https://github.com/Metaboverse/Metaboverse/
alias: metaboverse

MIT License

Copyright (c) 2022 Metaboverse

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.

-->

<meta charset="utf-8">
<meta http-equiv="Content-Security-Policy" content="default-src 'self'; img-src 'self' data:; style-src 'self' 'sha256-47DEQpj8HBSa+/TImW+5JCeuQeRkm5NMpJWZG3hSuFU='; script-src 'self'; connect-src 'self' http://api.xialab.ca/mapcompounds;">
<title>Metaboverse</title>

<html>

    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/format.css">
    <link rel="stylesheet" href="../css/jquery.dataTables.1.10.25.min.css">
    <script src="../js/spinner.js"></script>
    <script src="../js/datatable.js"></script>
    <script src="../js/_external/dataTables.select.1.3.3.min.js"></script>
    <script src="../js/utils.js"></script>

<head>

    <!-- menu -->
    <menu>
      <font size=3.25px>
        <menuItem id="menuleft"><a>Metaboverse</a></menuItem>
        <menuItem id="menurefresh-format" title="Click to reset the table formatter page."><a>&#x21bb;</a></menuItem>
      </font>
    </menu>
  
</head>

<body>

    <!--
        - Maybe don't need the menu
        - Add info button that shows guide?

        At start:
            User clicks format button on variables.js
            User selects input starting data 
            Metaboverse loads table and launches new window (datatable.html)

        Processing:
            User selects inputs group names selected by commas
            User specifies comparisons
            Run
        
        At end:
            Save button that outputs the Metaboverse-formatted input table
            Swaps it for the original input 
            Closes the window
    -->

    <br>
    <br>
    <div id="format-wrapper" class="top-margin-datatable left-margin-input">
        <b><u>1) Input unformatted data table:</u></b>
        <br>    
        <br>  
        <button id="data_info_flat" class="info_enhanced">
            <i>i</i>
        </button>
        &emsp; 
        <div id="format-datatable-input" title="Click to open window and format a dataset for Metaboverse.">
            <font size="1">
            Select File
            </font>
        </div>
        &nbsp;&nbsp;
        <div id="selectedFormat" class="selectedData">
        </div>
    </div>
    <input id="format-input" type="file" name="name" />
    <br>
    
    <!--Checkbox to select adjusted-p-values or not-->
    <div id="format-wrapper" class="top-margin-datatable left-margin-input-2 use-inline"></div>
        <button id="padj_info_flat" class="info_enhanced">
            <i>i</i>
        </button>
        &emsp;
        <div class="content use-inline">
            <div class="dropdown-container ">
                <select name="stat_type" id="stat_type">
                <option>Adjusted P-value (normal)</option>
                <option>P-value (normal)</option>
                <option>Confidence Intervals</option>
                </select>
            </div>
        </div>

        <!--
        <div class="use-inline">
            Use adjusted p-values: 
        </div>
        <input 
            type="checkbox" 
            id="use-adj-p" 
            class="use-inline"
            value="true"
            title="Output adjusted p-values." 
            checked>
        -->
    </div>  

    <!--Select data type-->
    <div id="select-datatype" class="top-margin-datatable left-margin-datatable"></div>
    <br>
    
    <!--Display element for loaded datatable-->
    <div id="loaded-distributions-title" class="left-margin-datatable right-margin-datatable"></div>
    <div id="loaded-distributions" class="top-margin-datatable left-margin-datatable right-margin-datatable"></div>

    <div id="loaded-table" class="top-margin-datatable left-margin-datatable right-margin-datatable"></div>
    
    <!--Selection tool to define different groups-->
    <div id="define-groups" class="top-margin-datatable left-margin-datatable"></div>
    <br>
    <!--Process table button-->
    <div id="process-table" class="top-margin-datatable left-margin-datatable right-margin-datatable"></div>

    <!--Button to run name check against Metaboverse mvdb or metaboliteMapper file first. For those that can't be found, run query against MetaboAnalyst database for suitable synonyms-->
    <div id="check-metabolites" class="top-margin-datatable left-margin-datatable"></div>
    
    <!--Button to save output where user selects new name and location-->
    <!--Then close the window-->
    <div id="save-table" class="top-margin-datatable left-margin-datatable"></div>


</body>

</html>